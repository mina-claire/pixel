{"ast":null,"code":"import'../App.css';import{useEffect,useContext}from'react';import NavigationButtons from'../components/NavigationButtons';import Sidebar from'../components/Sidebar/Sidebar';import Week from'../components/WeekView/Week';import{TaskContext}from'../TaskContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const apiURL='http://localhost:2500/';/**\n * User Pixel Dashboard Component\n * Allow users to interact with and overview tasks and projects\n * @route /dashboard\n * @description Renders the users dashboard allowing user to see an overview,\n * as well as create, edit and delete projects, channels and tasks. Users with\n * admin permissions may also manage users via this page.\n */function Dashboard(){const{setUser,loading}=useContext(TaskContext);const navigate=useNavigate();useEffect(()=>{const checkAuth=async()=>{try{const response=await fetch(`${apiURL}api/me`,{method:'GET',headers:{'Content-Type':'application/json'},credentials:'include'});if(!response.ok){throw new Error('Not authenticated');}const userData=await response.json();setUser(userData);}catch(error){console.log('Error:',error);console.log('User not authenticated, redirecting to login');navigate('/');}};checkAuth();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(\"div\",{})// Empty div when loading\n:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row w-screen h-[100vh] font-Avenir overflow-hidden cursor-default responsive\",children:[/*#__PURE__*/_jsx(NavigationButtons,{}),/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(Week,{})]})});}export default Dashboard;","map":{"version":3,"names":["useEffect","useContext","NavigationButtons","Sidebar","Week","TaskContext","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","apiURL","Dashboard","setUser","loading","navigate","checkAuth","response","fetch","method","headers","credentials","ok","Error","userData","json","error","console","log","children","className"],"sources":["/Users/jasmineburt/Documents/projects/projects/pixel/src/pages/Dashboard.js"],"sourcesContent":["import '../App.css';\nimport { useEffect, useContext } from 'react';\nimport NavigationButtons from '../components/NavigationButtons';\nimport Sidebar from '../components/Sidebar/Sidebar';\nimport Week from '../components/WeekView/Week';\nimport { TaskContext } from '../TaskContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst apiURL = 'http://localhost:2500/'\n\n/**\n * User Pixel Dashboard Component\n * Allow users to interact with and overview tasks and projects\n * @route /dashboard\n * @description Renders the users dashboard allowing user to see an overview,\n * as well as create, edit and delete projects, channels and tasks. Users with\n * admin permissions may also manage users via this page.\n */\nfunction Dashboard() {\n  const { setUser, loading } = useContext(TaskContext);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const response = await fetch(`${apiURL}api/me`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          credentials: 'include',\n        });\n  \n        if (!response.ok) {\n          throw new Error('Not authenticated');\n        }\n        const userData = await response.json();\n        setUser(userData);\n      } catch (error) {\n        console.log('Error:', error);\n        console.log('User not authenticated, redirecting to login');\n        navigate('/');\n      }\n    };\n  \n    checkAuth();\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      {loading ? (\n        <div></div> // Empty div when loading\n      ) : (\n        <div\n          className=\"flex flex-row w-screen h-[100vh] font-Avenir overflow-hidden\n          cursor-default responsive\"\n        >\n          <NavigationButtons />\n          <Sidebar />\n          <Week />\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"AAAA,MAAO,YAAY,CACnB,OAASA,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC7C,MAAO,CAAAC,iBAAiB,KAAM,iCAAiC,CAC/D,MAAO,CAAAC,OAAO,KAAM,+BAA+B,CACnD,MAAO,CAAAC,IAAI,KAAM,6BAA6B,CAC9C,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/C,KAAM,CAAAC,MAAM,CAAG,wBAAwB,CAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAAEC,OAAO,CAAEC,OAAQ,CAAC,CAAGf,UAAU,CAACI,WAAW,CAAC,CACpD,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9BN,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGP,MAAM,QAAQ,CAAE,CAC9CQ,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,WAAW,CAAE,SACf,CAAC,CAAC,CAEF,GAAI,CAACJ,QAAQ,CAACK,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,mBAAmB,CAAC,CACtC,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CACtCZ,OAAO,CAACW,QAAQ,CAAC,CACnB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEF,KAAK,CAAC,CAC5BC,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC,CAC3Db,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAAC,CAEDC,SAAS,CAAC,CAAC,CAEb;AACA,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEV,IAAA,CAAAI,SAAA,EAAAmB,QAAA,CACGf,OAAO,cACNR,IAAA,SAAU,CAAE;AAAA,cAEZE,KAAA,QACEsB,SAAS,CAAC,wFACgB,CAAAD,QAAA,eAE1BvB,IAAA,CAACN,iBAAiB,GAAE,CAAC,cACrBM,IAAA,CAACL,OAAO,GAAE,CAAC,cACXK,IAAA,CAACJ,IAAI,GAAE,CAAC,EACL,CACN,CACD,CAAC,CAEP,CAEA,cAAe,CAAAU,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}