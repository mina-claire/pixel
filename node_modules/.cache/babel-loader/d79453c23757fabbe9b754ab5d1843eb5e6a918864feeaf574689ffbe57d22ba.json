{"ast":null,"code":"import React,{createContext,useState,useEffect}from'react';import{getTasks,getChannels,getUsers}from'./data/api';import{jsx as _jsx}from\"react/jsx-runtime\";const TaskContext=/*#__PURE__*/createContext();const TaskProvider=_ref=>{let{children}=_ref;const[users,setUsers]=useState(false);const[user,setUser]=useState(false);const[loading,setLoading]=useState(true);const[channels,setChannels]=useState(false);const[tasks,setTasks]=useState(false);useEffect(()=>{if(channels&&tasks&&loading&&users){setLoading(false);}},[channels,tasks,loading,users]);useEffect(()=>{const fetchTasks=async()=>{const response=await getTasks(user.id);setTasks(response);};const fetchChannels=async()=>{const response=await getChannels(user.id);setChannels(response);};const fetchUsers=async()=>{const response=await getUsers();setUsers(response);};if(user){if(Number(user===null||user===void 0?void 0:user.isAdmin)){fetchUsers();}else{setUsers(true);}fetchChannels();fetchTasks();}},[user]);return/*#__PURE__*/_jsx(TaskContext.Provider,{value:{tasks,setTasks,channels,setChannels,loading,setLoading,user,setUser,users,setUsers},children:children});};export{TaskProvider,TaskContext};","map":{"version":3,"names":["React","createContext","useState","useEffect","getTasks","getChannels","getUsers","jsx","_jsx","TaskContext","TaskProvider","_ref","children","users","setUsers","user","setUser","loading","setLoading","channels","setChannels","tasks","setTasks","fetchTasks","response","id","fetchChannels","fetchUsers","Number","isAdmin","Provider","value"],"sources":["/Users/jasmineburt/Documents/projects/projects/pixel/src/TaskContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport { getTasks, getChannels, getUsers } from './data/api';\n\nconst TaskContext = createContext();\n\nconst TaskProvider = ({ children }) => {\n    const [users, setUsers] = useState(false)\n    const [user, setUser] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [channels, setChannels] = useState(false);\n    const [tasks, setTasks] = useState(false);\n\n    useEffect(() => {\n        if (channels && tasks && loading && users) {\n          setLoading(false);\n        }\n    }, [channels, tasks, loading, users]);\n\n    useEffect(() => {\n      const fetchTasks = async () => {\n        const response = await getTasks(user.id);\n        setTasks(response);\n\n      };\n  \n      const fetchChannels = async () => {\n        const response = await getChannels(user.id);\n        setChannels(response);\n      };\n\n      const fetchUsers = async () => {\n        const response = await getUsers();\n        setUsers(response);\n      };\n  \n      if (user) {\n        if (Number(user?.isAdmin)) {\n          fetchUsers();\n        } else {\n          setUsers(true);\n        }\n        fetchChannels();\n        fetchTasks();\n      }\n    }, [user]);\n\n  return (\n    <TaskContext.Provider value={{ tasks, setTasks, channels, setChannels, loading, setLoading, user, setUser, users, setUsers }}>\n      {children}\n    </TaskContext.Provider>\n  );\n};\n\nexport { TaskProvider, TaskContext };"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACjE,OAASC,QAAQ,CAAEC,WAAW,CAAEC,QAAQ,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE7D,KAAM,CAAAC,WAAW,cAAGR,aAAa,CAAC,CAAC,CAEnC,KAAM,CAAAS,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACzC,KAAM,CAACa,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CACvC,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAEzCC,SAAS,CAAC,IAAM,CACZ,GAAIgB,QAAQ,EAAIE,KAAK,EAAIJ,OAAO,EAAIJ,KAAK,CAAE,CACzCK,UAAU,CAAC,KAAK,CAAC,CACnB,CACJ,CAAC,CAAE,CAACC,QAAQ,CAAEE,KAAK,CAAEJ,OAAO,CAAEJ,KAAK,CAAC,CAAC,CAErCV,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAApB,QAAQ,CAACW,IAAI,CAACU,EAAE,CAAC,CACxCH,QAAQ,CAACE,QAAQ,CAAC,CAEpB,CAAC,CAED,KAAM,CAAAE,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,KAAM,CAAAF,QAAQ,CAAG,KAAM,CAAAnB,WAAW,CAACU,IAAI,CAACU,EAAE,CAAC,CAC3CL,WAAW,CAACI,QAAQ,CAAC,CACvB,CAAC,CAED,KAAM,CAAAG,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAH,QAAQ,CAAG,KAAM,CAAAlB,QAAQ,CAAC,CAAC,CACjCQ,QAAQ,CAACU,QAAQ,CAAC,CACpB,CAAC,CAED,GAAIT,IAAI,CAAE,CACR,GAAIa,MAAM,CAACb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEc,OAAO,CAAC,CAAE,CACzBF,UAAU,CAAC,CAAC,CACd,CAAC,IAAM,CACLb,QAAQ,CAAC,IAAI,CAAC,CAChB,CACAY,aAAa,CAAC,CAAC,CACfH,UAAU,CAAC,CAAC,CACd,CACF,CAAC,CAAE,CAACR,IAAI,CAAC,CAAC,CAEZ,mBACEP,IAAA,CAACC,WAAW,CAACqB,QAAQ,EAACC,KAAK,CAAE,CAAEV,KAAK,CAAEC,QAAQ,CAAEH,QAAQ,CAAEC,WAAW,CAAEH,OAAO,CAAEC,UAAU,CAAEH,IAAI,CAAEC,OAAO,CAAEH,KAAK,CAAEC,QAAS,CAAE,CAAAF,QAAA,CAC1HA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAED,OAASF,YAAY,CAAED,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}