{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */import React,{useState,useEffect,useCallback,useContext,useRef,lazy,Suspense}from'react';import{useDraggable}from'react-use-draggable-scroll';import{TaskContext}from'../../TaskContext';import InfiniteScroll from'react-infinite-scroll-component';import dayjs from'dayjs';// Lazy load the AddTask and DaysTasks components\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const AddTask=/*#__PURE__*/lazy(()=>import('../TaskPreview/AddTask'));const DaysTasks=/*#__PURE__*/lazy(()=>import('./DaysTask'));/**\n * A function to retrieve a greeting determined by the time of day.\n * @returns {String} - a greeting determined by the time of day.\n */function getGreeting(){const hour=dayjs().hour();let greeting;switch(true){case hour<12:greeting=\"Good morning\";break;case hour<18:greeting=\"Good afternoon\";break;case hour<22:greeting=\"Good evening\";break;default:greeting=\"Good night\";break;}return greeting;}/**\n * Render weekly view\n * Displays weekly view. Each day shows the tasks and subtasks to\n * be completed per day. Each day has a corresponding date and title,\n * with a button that allows users to add a new task. A preview of\n * tasks due on each day is provided under each heading. Each preview\n * gives opportunity for user to edit completion state of subtasks and,\n * edit the task via trigger to CRUD dialog. The view is scrollable\n * and more days are loaded upon horizontal scroll.\n * @returns {JSX.Element} - The weekly view\n */const Week=()=>{const{user}=useContext(TaskContext);const[view,setView]=useState([]);const[dayIndex,setDayIndex]=useState(0);const[pastDayIndex,setPastDayIndex]=useState(0);const loadedDays=useRef(new Set());// Track loaded days to avoid duplicates\nconst containerRef=useRef(null);const dayRefs=useRef([]);// Ref for each day element\nconst{events}=useDraggable(containerRef);const greeting=getGreeting();// Fetch future days\nconst fetchFutureDays=useCallback(()=>{const startDay=dayjs().add(dayIndex*14,'day').startOf('day');const newDays=Array.from({length:14},(_,index)=>({id:dayIndex*14+index+1,date:startDay.add(index,'day').clone()}));// Add unique days to avoid duplicates\nconst uniqueDays=newDays.filter(day=>!loadedDays.current.has(day.date.format('YYYY-MM-DD')));uniqueDays.forEach(day=>loadedDays.current.add(day.date.format('YYYY-MM-DD')));// Track loaded days\nsetView(prevView=>[...prevView,...uniqueDays]);setDayIndex(prevIndex=>prevIndex+1);},[dayIndex]);// Fetch past days\nconst fetchPastDays=useCallback(()=>{var _containerRef$current,_containerRef$current2,_containerRef$current3,_containerRef$current4;const startDay=dayjs().subtract((pastDayIndex+1)*14,'day').startOf('day');const newDays=Array.from({length:14},(_,index)=>({id:-(pastDayIndex*14+index+1),date:startDay.add(index,'day').clone()}));// Add unique days to avoid duplicates\nconst uniqueDays=newDays.filter(day=>!loadedDays.current.has(day.date.format('YYYY-MM-DD')));uniqueDays.forEach(day=>loadedDays.current.add(day.date.format('YYYY-MM-DD')));// Track loaded days\nconst scrollPositionBefore=(_containerRef$current=(_containerRef$current2=containerRef.current)===null||_containerRef$current2===void 0?void 0:_containerRef$current2.scrollLeft)!==null&&_containerRef$current!==void 0?_containerRef$current:0;const totalWidthBefore=(_containerRef$current3=(_containerRef$current4=containerRef.current)===null||_containerRef$current4===void 0?void 0:_containerRef$current4.scrollWidth)!==null&&_containerRef$current3!==void 0?_containerRef$current3:0;setView(prevView=>[...uniqueDays,...prevView]);// Prepend unique past days\nsetPastDayIndex(prevIndex=>prevIndex+1);// Adjust the scroll position to maintain the current view after prepending past days\nsetTimeout(()=>{var _containerRef$current5,_containerRef$current6;const totalWidthAfter=(_containerRef$current5=(_containerRef$current6=containerRef.current)===null||_containerRef$current6===void 0?void 0:_containerRef$current6.scrollWidth)!==null&&_containerRef$current5!==void 0?_containerRef$current5:0;const addedWidth=totalWidthAfter-totalWidthBefore;if(containerRef.current){containerRef.current.scrollLeft=scrollPositionBefore+addedWidth;}},0);},[pastDayIndex]);// Preload more days as the user approaches the edge\nconst handleScroll=useCallback(()=>{const container=containerRef.current;if(!container)return;// Trigger past days loading when near the left edge (within 300px)\nif(container.scrollLeft<300){fetchPastDays();}// Trigger future days loading when near the right edge (within 300px of max scroll width)\nconst scrollRight=container.scrollWidth-container.clientWidth-container.scrollLeft;if(scrollRight<300){fetchFutureDays();}},[fetchPastDays,fetchFutureDays]);// Scroll to today's date and make it the first visible day\nconst goToToday=()=>{const todayIndex=view.findIndex(day=>day.date.isSame(dayjs(),'day'));if(todayIndex!==-1){setDayIndex(todayIndex);const todayElement=dayRefs.current[todayIndex];if(todayElement&&containerRef.current){containerRef.current.scrollLeft=todayElement.offsetLeft;}}};useEffect(()=>{if(view.length){goToToday();// Scroll to today's date after view is updated\n}},[view]);// Fetch initial days on mount\nuseEffect(()=>{fetchFutureDays();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full w-full m-xlg cursor-default overflow-auto scroll-smooth relative z-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row align-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xlg text-h1 font-heavy mb-md\",children:[greeting,\", \",user.firstName,\"...\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"border-2 border-accent hover:border-text border-md rounded-full text-text py-xxs px-base ml-lg hover:text-h1\",onClick:goToToday// Scroll to today's date when clicked\n,children:\"today\"})})]}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:view.length,next:fetchFutureDays// Load more future days when scrolling right\n,hasMore:true,horizontal:true,scrollableTarget:\"scrollableDiv\",inverse:false,onScroll:handleScroll,children:/*#__PURE__*/_jsx(\"div\",{id:\"scrollableDiv\",ref:containerRef,...events,className:\"flex flex-row w-full z-2 overflow-x-auto no-scrollbar [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]\",children:view.length?view.map((object,index)=>/*#__PURE__*/_jsxs(\"div\",{ref:el=>dayRefs.current[index]=el// Set ref for each day\n,className:\"flex-shrink-0 w-[20rem] mx-sm px-sm\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg mb-sm font-bold ml-base\",children:object.date.format('dddd')}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-sm font-medium mb-md ml-base\",children:object.date.format('MMMM D, YYYY')}),/*#__PURE__*/_jsxs(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),children:[/*#__PURE__*/_jsx(AddTask,{date:object.date.format(\"YYYY-MM-DD\")}),/*#__PURE__*/_jsx(DaysTasks,{date:object.date})]})]},index)):null})})]});};export default Week;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useContext","useRef","lazy","Suspense","useDraggable","TaskContext","InfiniteScroll","dayjs","jsxs","_jsxs","jsx","_jsx","AddTask","DaysTasks","getGreeting","hour","greeting","Week","user","view","setView","dayIndex","setDayIndex","pastDayIndex","setPastDayIndex","loadedDays","Set","containerRef","dayRefs","events","fetchFutureDays","startDay","add","startOf","newDays","Array","from","length","_","index","id","date","clone","uniqueDays","filter","day","current","has","format","forEach","prevView","prevIndex","fetchPastDays","_containerRef$current","_containerRef$current2","_containerRef$current3","_containerRef$current4","subtract","scrollPositionBefore","scrollLeft","totalWidthBefore","scrollWidth","setTimeout","_containerRef$current5","_containerRef$current6","totalWidthAfter","addedWidth","handleScroll","container","scrollRight","clientWidth","goToToday","todayIndex","findIndex","isSame","todayElement","offsetLeft","className","children","firstName","onClick","dataLength","next","hasMore","horizontal","scrollableTarget","inverse","onScroll","ref","map","object","el","fallback"],"sources":["/Users/jasmineburt/Documents/projects/projects/pixel/src/components/WeekView/Week.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect, useCallback, useContext, useRef, lazy, Suspense } from 'react';\nimport { useDraggable } from 'react-use-draggable-scroll';\nimport { TaskContext } from '../../TaskContext';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport dayjs from 'dayjs';\n\n// Lazy load the AddTask and DaysTasks components\nconst AddTask = lazy(() => import('../TaskPreview/AddTask'));\nconst DaysTasks = lazy(() => import('./DaysTask'));\n\n/**\n * A function to retrieve a greeting determined by the time of day.\n * @returns {String} - a greeting determined by the time of day.\n */\nfunction getGreeting() {\n    const hour = dayjs().hour();\n    let greeting;\n    switch (true) {\n        case (hour < 12):\n            greeting = \"Good morning\";\n            break;\n        case (hour < 18):\n            greeting = \"Good afternoon\";\n            break;\n        case (hour < 22):\n            greeting = \"Good evening\";\n            break;\n        default:\n            greeting = \"Good night\";\n            break;\n    }\n    return greeting;\n}\n\n/**\n * Render weekly view\n * Displays weekly view. Each day shows the tasks and subtasks to\n * be completed per day. Each day has a corresponding date and title,\n * with a button that allows users to add a new task. A preview of\n * tasks due on each day is provided under each heading. Each preview\n * gives opportunity for user to edit completion state of subtasks and,\n * edit the task via trigger to CRUD dialog. The view is scrollable\n * and more days are loaded upon horizontal scroll.\n * @returns {JSX.Element} - The weekly view\n */\nconst Week = () => {\n    const { user } = useContext(TaskContext);\n    const [view, setView] = useState([]);\n    const [dayIndex, setDayIndex] = useState(0);\n    const [pastDayIndex, setPastDayIndex] = useState(0);\n    const loadedDays = useRef(new Set()); // Track loaded days to avoid duplicates\n\n    const containerRef = useRef(null);\n    const dayRefs = useRef([]); // Ref for each day element\n    const { events } = useDraggable(containerRef);\n\n    const greeting = getGreeting();\n\n    // Fetch future days\n    const fetchFutureDays = useCallback(() => {\n        const startDay = dayjs().add(dayIndex * 14, 'day').startOf('day');\n        const newDays = Array.from({ length: 14 }, (_, index) => ({\n            id: dayIndex * 14 + index + 1,\n            date: startDay.add(index, 'day').clone(),\n        }));\n\n        // Add unique days to avoid duplicates\n        const uniqueDays = newDays.filter(day => !loadedDays.current.has(day.date.format('YYYY-MM-DD')));\n        uniqueDays.forEach(day => loadedDays.current.add(day.date.format('YYYY-MM-DD'))); // Track loaded days\n\n        setView((prevView) => [...prevView, ...uniqueDays]);\n        setDayIndex((prevIndex) => prevIndex + 1);\n    }, [dayIndex]);\n\n    // Fetch past days\n    const fetchPastDays = useCallback(() => {\n        const startDay = dayjs().subtract((pastDayIndex + 1) * 14, 'day').startOf('day');\n        const newDays = Array.from({ length: 14 }, (_, index) => ({\n            id: -(pastDayIndex * 14 + index + 1),\n            date: startDay.add(index, 'day').clone(),\n        }));\n\n        // Add unique days to avoid duplicates\n        const uniqueDays = newDays.filter(day => !loadedDays.current.has(day.date.format('YYYY-MM-DD')));\n        uniqueDays.forEach(day => loadedDays.current.add(day.date.format('YYYY-MM-DD'))); // Track loaded days\n\n        const scrollPositionBefore = containerRef.current?.scrollLeft ?? 0;\n        const totalWidthBefore = containerRef.current?.scrollWidth ?? 0;\n\n        setView((prevView) => [...uniqueDays, ...prevView]); // Prepend unique past days\n        setPastDayIndex((prevIndex) => prevIndex + 1);\n\n        // Adjust the scroll position to maintain the current view after prepending past days\n        setTimeout(() => {\n            const totalWidthAfter = containerRef.current?.scrollWidth ?? 0;\n            const addedWidth = totalWidthAfter - totalWidthBefore;\n            if (containerRef.current) {\n                containerRef.current.scrollLeft = scrollPositionBefore + addedWidth;\n            }\n        }, 0);\n    }, [pastDayIndex]);\n\n    // Preload more days as the user approaches the edge\n    const handleScroll = useCallback(() => {\n        const container = containerRef.current;\n        if (!container) return;\n\n        // Trigger past days loading when near the left edge (within 300px)\n        if (container.scrollLeft < 300) {\n            fetchPastDays();\n        }\n\n        // Trigger future days loading when near the right edge (within 300px of max scroll width)\n        const scrollRight = container.scrollWidth - container.clientWidth - container.scrollLeft;\n        if (scrollRight < 300) {\n            fetchFutureDays();\n        }\n    }, [fetchPastDays, fetchFutureDays]);\n\n    // Scroll to today's date and make it the first visible day\n    const goToToday = () => {\n        const todayIndex = view.findIndex(day => day.date.isSame(dayjs(), 'day'));\n        if (todayIndex !== -1) {\n            setDayIndex(todayIndex);\n            const todayElement = dayRefs.current[todayIndex];\n            if (todayElement && containerRef.current) {\n                containerRef.current.scrollLeft = todayElement.offsetLeft;\n            }\n        }\n    };\n\n    useEffect(() => {\n        if (view.length) {\n            goToToday();  // Scroll to today's date after view is updated\n        }\n    }, [view]);\n\n    // Fetch initial days on mount\n    useEffect(() => {\n        fetchFutureDays();\n    }, []);\n\n    return (\n        <div className=\"h-full w-full m-xlg cursor-default overflow-auto scroll-smooth relative z-0\">\n            <div className=\"flex flex-row align-center\">\n                <div className=\"text-xlg text-h1 font-heavy mb-md\">\n                    {greeting}, {user.firstName}...\n                </div>\n                <div>\n                    <button \n                        className=\"border-2 border-accent hover:border-text border-md rounded-full\n                         text-text py-xxs px-base ml-lg hover:text-h1\"\n                        onClick={goToToday}  // Scroll to today's date when clicked\n                    >\n                        today\n                    </button>\n                </div>\n            </div>\n\n            {/* Infinite Scroll with bi-directional loading */}\n            <InfiniteScroll\n                dataLength={view.length}\n                next={fetchFutureDays}  // Load more future days when scrolling right\n                hasMore={true}\n                horizontal={true}\n                scrollableTarget=\"scrollableDiv\"\n                inverse={false}\n                onScroll={handleScroll}\n            >\n                <div id=\"scrollableDiv\" \n                    ref={containerRef} {...events} \n                    className=\"flex flex-row w-full z-2 overflow-x-auto no-scrollbar [&::-webkit-scrollbar]:hidden\n                    [-ms-overflow-style:none] [scrollbar-width:none]\"\n                >\n                    {view.length ? (\n                        view.map((object, index) => (\n                            <div \n                                key={index} \n                                ref={(el) => (dayRefs.current[index] = el)}  // Set ref for each day\n                                className=\"flex-shrink-0 w-[20rem] mx-sm px-sm\"\n                            >\n                                <h1 className=\"text-lg mb-sm font-bold ml-base\">\n                                    {object.date.format('dddd')}\n                                </h1>\n                                <h2 className=\"text-sm font-medium mb-md ml-base\">\n                                    {object.date.format('MMMM D, YYYY')}\n                                </h2>\n                                <Suspense fallback={<div>Loading...</div>}>\n                                    <AddTask date={object.date.format(\"YYYY-MM-DD\")} />\n                                    <DaysTasks date={object.date} />\n                                </Suspense>\n                            </div>\n                        ))\n                    ) : null}\n                </div>\n            </InfiniteScroll>\n        </div>\n    );\n};\n\nexport default Week;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}