{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */import{Checkbox,Popover}from\"antd\";import EditChannel from\"./EditChannel\";import{useContext,useEffect}from\"react\";import{TaskContext}from\"../../../TaskContext\";import{saveChannel}from\"../../../data/api\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function ChannelPreview(_ref){let{channel}=_ref;const{setChannels,channels}=useContext(TaskContext);const index=channels.findIndex(c=>c.channelID===channel.channelID);const handleArchive=async event=>{setChannels(prevChannels=>{const updatedChannels=[...prevChannels];updatedChannels[index]={...updatedChannels[index],\"archived\":Number(!event.target.checked)};return updatedChannels;});};useEffect(()=>{const updateChannel=async()=>{await saveChannel(channels[index]);};updateChannel();},[channels]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-between items-center rounded hover:bg-bg p-xs\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:`text-sm font-base text-${channel.colour} cursor-default`,children:[\"# \",channel.channelCode]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row\",children:[/*#__PURE__*/_jsx(Popover,{content:/*#__PURE__*/_jsx(EditChannel,{channelID:channel.channelID}),placement:\"bottomLeft\",title:\"Manage Channel\",trigger:\"click\",getPopupContainer:triggerNode=>triggerNode.parentNode,children:/*#__PURE__*/_jsx(\"p\",{className:\"cursor-pointer pl-lg\",children:\"\\u270D\\uFE0F\"})}),/*#__PURE__*/_jsx(Checkbox,{className:\"pl-lg pr-base\",onChange:handleArchive,checked:!Number(channels[index].archived)})]})]});}export default ChannelPreview;","map":{"version":3,"names":["Checkbox","Popover","EditChannel","useContext","useEffect","TaskContext","saveChannel","jsxs","_jsxs","jsx","_jsx","ChannelPreview","_ref","channel","setChannels","channels","index","findIndex","c","channelID","handleArchive","event","prevChannels","updatedChannels","Number","target","checked","updateChannel","className","children","colour","channelCode","content","placement","title","trigger","getPopupContainer","triggerNode","parentNode","onChange","archived"],"sources":["/Users/jasmineburt/Documents/projects/projects/pixel/src/components/Dialogs/SettingsDialog/ChannelPreview.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { Checkbox, Popover } from \"antd\";\nimport EditChannel from \"./EditChannel\";\nimport { useContext, useEffect } from \"react\";\nimport { TaskContext } from \"../../../TaskContext\";\nimport { saveChannel } from \"../../../data/api\";\n\nfunction ChannelPreview ({ channel }) {\n    const {setChannels, channels } = useContext(TaskContext);\n    const index = channels.findIndex((c) => (\n        c.channelID === channel.channelID\n    ));\n\n    const handleArchive = async (event) => {\n        setChannels((prevChannels) => {\n            const updatedChannels = [...prevChannels];\n            updatedChannels[index] = {\n                ...updatedChannels[index],\n                \"archived\": Number(!event.target.checked),\n            }\n            return updatedChannels;\n        });\n    }\n\n    useEffect(() => {\n        const updateChannel = async () => {\n            await saveChannel(channels[index]);\n        }\n        updateChannel();\n    }, [channels])\n\n    return (\n        <div className=\"flex flex-row justify-between items-center rounded hover:bg-bg p-xs\">\n            <h2 className={`text-sm font-base text-${channel.colour} cursor-default`}># {channel.channelCode}</h2>\n\n            <div className=\"flex flex-row\">\n                <Popover\n                    content={<EditChannel channelID={channel.channelID} />}\n                    placement=\"bottomLeft\"\n                    title=\"Manage Channel\"\n                    trigger=\"click\"\n                    getPopupContainer={(triggerNode) => triggerNode.parentNode}\n                >\n                    <p className=\"cursor-pointer pl-lg\">✍️</p>\n                </Popover>\n\n                <Checkbox\n                    className=\"pl-lg pr-base\"\n                    onChange={handleArchive}\n                    checked={!Number(channels[index].archived)}\n                />\n            </div>\n        </div>\n    );\n}\n\nexport default ChannelPreview;\n"],"mappings":"AAAA,gDACA,OAASA,QAAQ,CAAEC,OAAO,KAAQ,MAAM,CACxC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAC7C,OAASC,WAAW,KAAQ,sBAAsB,CAClD,OAASC,WAAW,KAAQ,mBAAmB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEhD,QAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAe,IAAb,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAChC,KAAM,CAACE,WAAW,CAAEC,QAAS,CAAC,CAAGZ,UAAU,CAACE,WAAW,CAAC,CACxD,KAAM,CAAAW,KAAK,CAAGD,QAAQ,CAACE,SAAS,CAAEC,CAAC,EAC/BA,CAAC,CAACC,SAAS,GAAKN,OAAO,CAACM,SAC3B,CAAC,CAEF,KAAM,CAAAC,aAAa,CAAG,KAAO,CAAAC,KAAK,EAAK,CACnCP,WAAW,CAAEQ,YAAY,EAAK,CAC1B,KAAM,CAAAC,eAAe,CAAG,CAAC,GAAGD,YAAY,CAAC,CACzCC,eAAe,CAACP,KAAK,CAAC,CAAG,CACrB,GAAGO,eAAe,CAACP,KAAK,CAAC,CACzB,UAAU,CAAEQ,MAAM,CAAC,CAACH,KAAK,CAACI,MAAM,CAACC,OAAO,CAC5C,CAAC,CACD,MAAO,CAAAH,eAAe,CAC1B,CAAC,CAAC,CACN,CAAC,CAEDnB,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAuB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAArB,WAAW,CAACS,QAAQ,CAACC,KAAK,CAAC,CAAC,CACtC,CAAC,CACDW,aAAa,CAAC,CAAC,CACnB,CAAC,CAAE,CAACZ,QAAQ,CAAC,CAAC,CAEd,mBACIP,KAAA,QAAKoB,SAAS,CAAC,qEAAqE,CAAAC,QAAA,eAChFrB,KAAA,OAAIoB,SAAS,CAAE,0BAA0Bf,OAAO,CAACiB,MAAM,iBAAkB,CAAAD,QAAA,EAAC,IAAE,CAAChB,OAAO,CAACkB,WAAW,EAAK,CAAC,cAEtGvB,KAAA,QAAKoB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1BnB,IAAA,CAACT,OAAO,EACJ+B,OAAO,cAAEtB,IAAA,CAACR,WAAW,EAACiB,SAAS,CAAEN,OAAO,CAACM,SAAU,CAAE,CAAE,CACvDc,SAAS,CAAC,YAAY,CACtBC,KAAK,CAAC,gBAAgB,CACtBC,OAAO,CAAC,OAAO,CACfC,iBAAiB,CAAGC,WAAW,EAAKA,WAAW,CAACC,UAAW,CAAAT,QAAA,cAE3DnB,IAAA,MAAGkB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,cAAE,CAAG,CAAC,CACrC,CAAC,cAEVnB,IAAA,CAACV,QAAQ,EACL4B,SAAS,CAAC,eAAe,CACzBW,QAAQ,CAAEnB,aAAc,CACxBM,OAAO,CAAE,CAACF,MAAM,CAACT,QAAQ,CAACC,KAAK,CAAC,CAACwB,QAAQ,CAAE,CAC9C,CAAC,EACD,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAA7B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}