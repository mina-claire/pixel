{"ast":null,"code":"// Import dependencies and declarations\nimport*as Dialog from\"@radix-ui/react-dialog\";import{Checkbox,Input}from\"antd\";import ChannelPreview from\"./ChannelPreview\";import{useContext,useState}from\"react\";import{TaskContext}from\"../../../TaskContext\";import{PlusSquareFill}from\"react-bootstrap-icons\";import{v4 as uuidv4}from'uuid';import{saveChannel,saveUser}from\"../../../data/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SettingsDialog(){const{channels,setChannels,user,setUser}=useContext(TaskContext);const archivedChannels=channels.filter(channel=>Number(channel.archived));const[display,setDisplay]=useState(archivedChannels.length?false:true);const addChannel=async()=>{const newChannel={\"channelID\":uuidv4(),\"userID\":user.id,\"channelCode\":\"NEW\",\"name\":\"\",\"colour\":\"#ff69b4\",\"archived\":0};const response=await saveChannel(newChannel);setChannels([...channels,response]);};const updateFirstName=event=>{setUser(_user=>({..._user,\"firstName\":event.target.value}));};const handleChange=event=>{const isChecked=event.target.checked;setDisplay(Number(isChecked));const updatedChannels=channels.map(channel=>({...channel,\"archived\":Number(!isChecked)}));setChannels(updatedChannels);};const signOut=async()=>{setUser({...user,\"isLoggedIn\":0});await saveUser(user);};return/*#__PURE__*/_jsxs(Dialog.Portal,{children:[/*#__PURE__*/_jsx(Dialog.Overlay,{className:\"fixed inset-0 backdrop-filter backdrop-blur-sm\"}),/*#__PURE__*/_jsxs(Dialog.Content,{className:\"fixed top-1/4 left-1/2 -translate-x-1/2 -translate-y-1/4 w-[19rem] justify-center rounded-gentle bg-fg shadow-dialog p-xlg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center mb-base\",children:[/*#__PURE__*/_jsx(PlusSquareFill,{title:\"add channel\",onClick:addChannel,className:\"mr-base text-text hover:text-h1 hover:cursor-pointer\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-h1 font-heavy text-md\",children:\"Channel Settings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[15rem]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row rounded hover:bg-text-bg px-xs justify-between items-center \",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-sm font-base transition-colors animate-rainbow hover:cursor-defaul \",children:\"# ALL CHANNELS\"}),/*#__PURE__*/_jsx(Checkbox,{checked:display,className:\"px-base\",onChange:handleChange})]}),channels.map(channel=>/*#__PURE__*/_jsx(ChannelPreview,{channel:channel},channel.channelID))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-h1 font-heavy text-md mb-base mt-lg\",children:\"Profile Settings\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:user.firstName,placeholder:\"my name is...\",onChange:updateFirstName,className:\"my-sm border-accent text-text\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:user.email,placeholder:\"my email is...\",className:\"my-sm border-accent text-text\",disabled:true}),/*#__PURE__*/_jsx(\"div\",{onClick:signOut,className:\"text-sm font-base mt-md mb-none text-text underline hover:cursor-pointer text-center\",children:\"Sign Out\"})]})]})]});}export default SettingsDialog;","map":{"version":3,"names":["Dialog","Checkbox","Input","ChannelPreview","useContext","useState","TaskContext","PlusSquareFill","v4","uuidv4","saveChannel","saveUser","jsx","_jsx","jsxs","_jsxs","SettingsDialog","channels","setChannels","user","setUser","archivedChannels","filter","channel","Number","archived","display","setDisplay","length","addChannel","newChannel","id","response","updateFirstName","event","_user","target","value","handleChange","isChecked","checked","updatedChannels","map","signOut","Portal","children","Overlay","className","Content","title","onClick","onChange","channelID","type","firstName","placeholder","email","disabled"],"sources":["/Users/jasmineburt/Documents/projects/projects/pixel/src/components/Dialogs/SettingsDialog/SettingsDialog.js"],"sourcesContent":["// Import dependencies and declarations\n\nimport * as Dialog from \"@radix-ui/react-dialog\";\nimport { Checkbox, Input } from \"antd\";\nimport ChannelPreview from \"./ChannelPreview\";\nimport { useContext, useState } from \"react\";\nimport { TaskContext } from \"../../../TaskContext\";\nimport { PlusSquareFill } from \"react-bootstrap-icons\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { saveChannel, saveUser } from \"../../../data/api\";\n\nfunction SettingsDialog () {\n    const { channels, setChannels, user, setUser } = useContext(TaskContext);\n\n    const archivedChannels = channels.filter(channel => Number(channel.archived));\n    const [display, setDisplay] = useState(archivedChannels.length ? false : true);\n\n    const addChannel = async () => {\n        const newChannel = {\n            \"channelID\": uuidv4(),\n            \"userID\": user.id,\n            \"channelCode\": \"NEW\",\n            \"name\": \"\",\n            \"colour\": \"#ff69b4\",\n            \"archived\": 0,\n        };\n        const response = await saveChannel(newChannel);\n        setChannels([\n            ...channels,\n            response\n        ]);\n    };\n\n    const updateFirstName = (event) => {\n        setUser((_user) => ({\n            ..._user,\n            \"firstName\": event.target.value,\n        }));\n    };\n\n    const handleChange = (event) => {\n        const isChecked = event.target.checked;\n        setDisplay(Number(isChecked));\n        const updatedChannels = channels.map((channel) => ({\n            ...channel,\n            \"archived\": Number(!isChecked)\n        }));\n        setChannels(updatedChannels);\n    };\n\n    const signOut = async () => {\n        setUser({\n            ...user,\n            \"isLoggedIn\": 0,\n        });\n        await saveUser(user);\n    }\n\n    return (\n        <Dialog.Portal>\n            <Dialog.Overlay className=\"fixed inset-0 backdrop-filter backdrop-blur-sm\" />\n            <Dialog.Content className=\"fixed top-1/4 left-1/2 -translate-x-1/2 -translate-y-1/4\n                    w-[19rem] justify-center rounded-gentle bg-fg shadow-dialog p-xlg\">\n\n                <div>\n                    <div className=\"flex flex-row items-center mb-base\">\n                        <PlusSquareFill\n                            title=\"add channel\"\n                            onClick={addChannel}\n                            className=\"mr-base text-text hover:text-h1 hover:cursor-pointer\"\n                        />\n                        <h1 className=\"text-h1 font-heavy text-md\">\n                            Channel Settings\n                        </h1>\n                    </div>\n                    <div className=\"w-[15rem]\">\n                        <div className=\"flex flex-row rounded hover:bg-text-bg px-xs\n                                    justify-between items-center \">\n                            <h2 className=\"text-sm font-base transition-colors animate-rainbow\n                                    hover:cursor-defaul \">\n                                # ALL CHANNELS\n                            </h2>\n                            <Checkbox\n                                checked={display}\n                                className=\"px-base\"\n                                onChange={handleChange} />\n                        </div>\n                        {channels.map((channel) => (\n                          <ChannelPreview key={channel.channelID} channel={channel} />\n                        ))}\n                    </div>\n                </div>\n                \n\n                <div>\n                    <h1 className=\"text-h1 font-heavy text-md mb-base mt-lg\">Profile Settings</h1>\n                    <Input \n                        type=\"text\"\n                        value={user.firstName}\n                        placeholder=\"my name is...\"\n                        onChange={updateFirstName}\n                        className=\"my-sm border-accent text-text\"\n                    />\n                    <Input \n                        type=\"text\"\n                        value={user.email}\n                        placeholder=\"my email is...\"\n                        className=\"my-sm border-accent text-text\"\n                        disabled={true}\n                    />\n                    <div \n                        onClick={signOut}\n                        className=\"text-sm font-base mt-md mb-none text-text underline\n                            hover:cursor-pointer text-center\">\n                        Sign Out\n                    </div>\n                </div>\n            </Dialog.Content>\n        </Dialog.Portal>\n    );\n}\nexport default SettingsDialog;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}