{"ast":null,"code":"import{useState,useContext}from'react';import{DatePicker,Select}from'antd';import{TaskContext}from'../../../TaskContext';import dayjs from'dayjs';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{RangePicker}=DatePicker;const DATE_FORMAT=\"YYYY-MM-DD\";function TaskDataInput(_ref){let{task,setTask}=_ref;const{channels}=useContext(TaskContext);const[channel,setChannel]=useState(()=>{if(task!==null&&task!==void 0&&task.channelID){return channels.find(_channel=>_channel.channelID===task.channelID).channelCode;}return null;});const options=channels.map(channel=>({label:channel.channelCode,value:channel.channelID}));const handleSelect=(label,value)=>{setChannel(label);setTask({...task,channelID:value.value});};const filterOption=(input,option)=>{var _option$label;return((_option$label=option===null||option===void 0?void 0:option.label)!==null&&_option$label!==void 0?_option$label:'').toLowerCase().includes(input.toLowerCase());};const handleDateChange=(dates,dateStrings)=>{setTask({...task,startDate:dayjs(dateStrings[0],\"DD-MM-YYYY\").format(DATE_FORMAT),dueDate:dayjs(dateStrings[1],\"DD-MM-YYYY\").format(DATE_FORMAT)});};return/*#__PURE__*/_jsxs(\"div\",{tabIndex:\"-1\",children:[/*#__PURE__*/_jsx(Select,{value:channel,variant:\"borderless\",size:\"small\",showSearch:true,placeholder:\"#channel\",filterOption:filterOption,onChange:(label,value)=>handleSelect(label,value),options:options,className:\"mr-md  w-[7.5rem]\",getPopupContainer:triggerNode=>triggerNode.parentNode}),/*#__PURE__*/_jsx(RangePicker,{value:[dayjs(task.startDate,DATE_FORMAT),dayjs(task.dueDate,DATE_FORMAT)],format:\"DD-MM-YYYY\",onChange:handleDateChange,allowClear:false,variant:\"borderless\",size:\"small\",className:\"w-[15rem]\"})]});}export default TaskDataInput;","map":{"version":3,"names":["useState","useContext","DatePicker","Select","TaskContext","dayjs","jsx","_jsx","jsxs","_jsxs","RangePicker","DATE_FORMAT","TaskDataInput","_ref","task","setTask","channels","channel","setChannel","channelID","find","_channel","channelCode","options","map","label","value","handleSelect","filterOption","input","option","_option$label","toLowerCase","includes","handleDateChange","dates","dateStrings","startDate","format","dueDate","tabIndex","children","variant","size","showSearch","placeholder","onChange","className","getPopupContainer","triggerNode","parentNode","allowClear"],"sources":["/Users/jasmineburt/Documents/projects/projects/pixel/src/components/Dialogs/TaskDialog/TaskDataInput.js"],"sourcesContent":["import { useState, useContext } from 'react';\nimport { DatePicker, Select } from 'antd';\nimport { TaskContext } from '../../../TaskContext';\nimport dayjs from 'dayjs';\nconst { RangePicker } = DatePicker;\nconst DATE_FORMAT = \"YYYY-MM-DD\";\n\nfunction TaskDataInput ({ task, setTask }) {\n\n    const { channels } = useContext(TaskContext)\n\n    const [channel, setChannel] = useState(() => {\n        if (task?.channelID) {\n            return channels.find((_channel) => (\n                _channel.channelID === task.channelID\n            )).channelCode;\n        } \n        return null\n    });\n\n    const options = channels.map((channel) => ({\n        label: channel.channelCode,\n        value: channel.channelID\n    }));\n\n    const handleSelect = (label, value) => {\n        setChannel(label);\n        setTask({\n            ...task,\n            channelID: value.value\n        })\n    };\n\n    const filterOption = (input, option) => (\n        (option?.label ?? '').toLowerCase().includes(input.toLowerCase())\n    );\n\n    const handleDateChange = (dates, dateStrings) => {\n        setTask({\n            ...task,\n            startDate: dayjs(dateStrings[0], \"DD-MM-YYYY\").format(DATE_FORMAT),\n            dueDate: dayjs(dateStrings[1], \"DD-MM-YYYY\").format(DATE_FORMAT),\n        })\n    };\n\n    return (\n            <div tabIndex=\"-1\">\n                <Select\n                    value={channel}\n                    variant=\"borderless\"\n                    size=\"small\"\n                    showSearch\n                    placeholder=\"#channel\"\n                    filterOption={filterOption}\n                    onChange={(label, value) => handleSelect(label, value)}\n                    options={options}\n                    className=\"mr-md  w-[7.5rem]\"\n                    getPopupContainer={(triggerNode) => triggerNode.parentNode} />  \n                <RangePicker\n                    value={[\n                        dayjs(task.startDate, DATE_FORMAT),\n                        dayjs(task.dueDate, DATE_FORMAT),\n                    ]}\n                    format={\"DD-MM-YYYY\"} \n                    onChange={handleDateChange}\n                    allowClear={false}\n                    variant=\"borderless\"\n                    size=\"small\"\n                    className={\"w-[15rem]\"} />\n            </div>       \n    );\n}\nexport default TaskDataInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}